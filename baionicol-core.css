/* BAIONICOL OS - CORE VISUAL ENGINE */
/* --- VARIABILI GLOBALI --- */
:root {
    --bg-color: #050505;
    --surface-color: #111111;
    --cyan-neon: #00f3ff;
    --green-neon: #39ff14;
    --warning-neon: #ff3366;
    --amber-neon: #ffaa00;
    --orange-neon: #ffaa00; /* <--- AGGIUNGI QUESTA RIGA! */
    --blue-neon: #0088ff;
    --danger-neon: #ff3333;
    --safe-neon: #00ffcc;
    --text-main: #ffffff; 
    --text-muted: #bbbbbb; 
    --glass-bg: rgba(0, 243, 255, 0.04);
    --glass-border: rgba(0, 243, 255, 0.25);
}

/* --- CURSORE GLOBALE --- */
* { box-sizing: border-box; cursor: url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='4' cy='4' r='4' fill='%2300f3ff'/%3E%3C/svg%3E") 4 4, auto !important; }
.interactive-el, button, a { cursor: url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='4' cy='4' r='4' fill='%2339ff14'/%3E%3C/svg%3E") 4 4, pointer !important; }
.slider-input:active { cursor: url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='4' cy='4' r='4' fill='%23ff3366'/%3E%3C/svg%3E") 4 4, grabbing !important; }

.cursor-ring { position: fixed; top: 0; left: 0; width: 36px; height: 36px; border: 1px solid var(--cyan-neon); border-radius: 50%; transform: translate(-50%, -50%); pointer-events: none; z-index: 100000; box-shadow: 0 0 10px rgba(0, 243, 255, 0.3); transition: width 0.3s ease, height 0.3s ease, border-color 0.3s ease, border-radius 0.3s ease, transform 0.1s; }
.cursor-ring.hovering { width: 50px; height: 50px; border-color: var(--green-neon); border-radius: 8px; border-width: 2px; border-style: dashed; box-shadow: 0 0 15px rgba(57, 255, 20, 0.4); }
.cursor-ring.grabbing { width: 20px; height: 20px; border-color: var(--warning-neon); border-width: 3px; box-shadow: 0 0 15px rgba(255, 51, 102, 0.5); }
.cursor-ring.hovering-danger { border-color: var(--danger-neon) !important; box-shadow: 0 0 15px rgba(255, 51, 51, 0.4) !important; }

/* --- BASE BODY --- */
body {
    margin: 0; padding: 0;
    font-family: 'Rajdhani', sans-serif;
    background-color: var(--bg-color);
    color: var(--text-main);
    overflow: hidden; 
    background-image: 
        linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94), background-color 0.5s ease, box-shadow 0.5s ease, opacity 0.5s ease;
}

body.zoom-in { transform: scale(1.5); opacity: 0; }
body.zoom-out-start { transform: scale(1.5); opacity: 0; transition: none; }
body.zoom-normal { transform: scale(1); opacity: 1; }

h1, h2, h3 { font-family: 'Space Grotesk', sans-serif; text-transform: uppercase; }

/* --- HEADER GLOBALE --- */
header { position: fixed; top: 0; left: 0; width: 100%; height: 90px; background: rgba(5, 5, 5, 0.7); backdrop-filter: blur(4px); z-index: 1000; border-bottom: 1px solid rgba(0, 243, 255, 0.15); pointer-events: none; }
.hud-status { position: absolute; left: 50px; top: 50%; transform: translateY(-50%); font-family: 'VT323', monospace; color: var(--green-neon); font-size: 24px; letter-spacing: 2px; display: flex; align-items: center; gap: 10px; text-shadow: 0 0 5px rgba(57, 255, 20, 0.5); pointer-events: auto; }
.status-dot { width: 12px; height: 12px; background-color: var(--green-neon); border-radius: 50%; box-shadow: 0 0 10px var(--green-neon); animation: pulse 1.5s infinite; }
@keyframes pulse { 0% { opacity: 0.3; } 50% { opacity: 1; } 100% { opacity: 0.3; } }

.logo { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); font-family: 'Space Grotesk', sans-serif; font-size: 42px; color: var(--text-main); font-weight: 700; letter-spacing: 6px; text-decoration: none; pointer-events: auto; }
.logo span { color: var(--cyan-neon); text-shadow: 0 0 15px var(--cyan-neon); }

.header-actions { position: absolute; right: 50px; top: 50%; transform: translateY(-50%); pointer-events: auto; display: flex; gap: 15px; align-items: center; }

.profile-badge { background: rgba(0, 243, 255, 0.1); border: 1px solid var(--cyan-neon); color: var(--cyan-neon); padding: 8px 15px; border-radius: 5px; font-family: 'Space Grotesk'; font-size: 14px; letter-spacing: 1px; cursor: pointer; transition: 0.3s; display: none; }
.profile-badge:hover { background: var(--amber-neon); border-color: var(--amber-neon); color: #000; box-shadow: 0 0 15px var(--amber-neon); }

.back-btn { color: var(--cyan-neon); text-decoration: none; font-size: 18px; font-weight: 700; letter-spacing: 1px; border: 1px solid var(--cyan-neon); padding: 10px 20px; border-radius: 5px; transition: 0.3s; background: rgba(0,243,255,0.05); display: inline-block; font-family: 'Space Grotesk'; cursor: pointer;}
.back-btn:hover { background: var(--cyan-neon); color: var(--bg-color); box-shadow: 0 0 20px var(--cyan-neon); }

/* --- HUD OVERLAY PERIFERICO --- */
.hud-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 999; box-shadow: inset 0 0 150px rgba(0,0,0,0.95); overflow: hidden; }
.hud-arc { position: absolute; top: -10vh; width: 15vw; height: 120vh; border-radius: 50%; opacity: 0.15; }
.arc-left { left: -7.5vw; border-right: 3px solid var(--cyan-neon); filter: drop-shadow(0 0 10px var(--cyan-neon)); }
.arc-right { right: -7.5vw; border-left: 3px solid var(--cyan-neon); filter: drop-shadow(0 0 10px var(--cyan-neon)); }
.hud-reticle-top { position: absolute; top: 20px; left: 50%; transform: translateX(-50%); display: flex; align-items: center; gap: 15px; opacity: 0.3; }
.reticle-line { width: 60px; height: 2px; background-color: var(--cyan-neon); }

.reticle-center { width: 15px; height: 10px; border: 2px solid var(--cyan-neon); border-top: none; }
/* =========================================
   MODALITÀ ECO (PERFORMANCE BOOSTER)
   ========================================= */

/* 1. Il Bottone */
.eco-btn {
    background: rgba(255, 170, 0, 0.1); 
    border: 1px solid var(--amber-neon); 
    color: var(--amber-neon);
    padding: 8px 15px; 
    border-radius: 5px; 
    font-family: 'Space Grotesk'; 
    font-size: 14px; 
    letter-spacing: 1px;
    cursor: pointer; 
    transition: 0.3s; 
    position: relative;
    display: flex;
    align-items: center;
    gap: 8px;
}
.eco-btn:hover { background: var(--amber-neon); color: #000; box-shadow: 0 0 15px var(--amber-neon); }

/* 2. La Vignetta "Se lagga" */
.eco-tooltip {
    position: absolute;
    top: 130%;
    left: 50%;
    transform: translateX(-50%);
    background: var(--amber-neon);
    color: #000;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 12px;
    font-family: 'Space Grotesk';
    font-weight: bold;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: 0.4s ease;
    box-shadow: 0 5px 15px rgba(255, 170, 0, 0.4);
    z-index: 1000;
}
/* Freccina della vignetta */
.eco-tooltip::before {
    content: ''; position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%);
    border-width: 6px; border-style: solid; border-color: transparent transparent var(--amber-neon) transparent;
}

/* Animazione della vignetta all'avvio */
.show-tooltip .eco-tooltip { opacity: 1; animation: bounce 2s infinite; }
.eco-btn:hover .eco-tooltip { opacity: 1; animation: none; }
@keyframes bounce { 0%, 100% { transform: translate(-50%, 0); } 50% { transform: translate(-50%, 5px); } }


/* 3. COSA SUCCEDE QUANDO L'ECO MODE È ATTIVO */
/* 3. COSA SUCCEDE QUANDO L'ECO MODE È ATTIVO */
body.eco-active spline-viewer, 
body.eco-active .spline-section, 
body.eco-active #3d-container,
body.eco-active .hero-mascot-placeholder,
body.eco-active .mascot-container { 
    display: none !important; 
}

/* Centra perfettamente i layout quando il robot scompare */
body.eco-active .hub-layout {
    justify-content: center !important;
}

/* Riduce drasticamente i calcoli della scheda video (Blur e Ombre) */
body.eco-active .panel, 
body.eco-active .dashboard-btn, 
body.eco-active .super-card, 
body.eco-active header, 
body.eco-active .sync-panel, 
body.eco-active .calibration-panel,
body.eco-active .diag-panel,
body.eco-active .hero-dialogue-box {
    backdrop-filter: blur(2px) !important;
    box-shadow: 0 5px 10px rgba(0,0,0,0.8) !important;
}

/* Adatta i bottoni per mobile */
@media (max-width: 768px) {
    .eco-btn { font-size: 12px; padding: 8px 12px; margin: 0; }
    .eco-tooltip { display: none; } /* Su mobile la vignetta dà fastidio, la nascondiamo */
}
/* =========================================
   MASTER RESPONSIVE PATCH (TUTTI I DISPOSITIVI)
   ========================================= */

/* 1. LAPTOP & PICCOLI SCHERMI */
@media (max-width: 1440px), (max-height: 850px) {
    body { overflow-y: auto !important; overflow-x: hidden !important; }
    .content-container, .dashboard-container { height: auto !important; min-height: 100vh; padding-top: 100px !important; padding-bottom: 50px !important; }
    header { height: 75px !important; }
    .logo { font-size: 32px !important; }
    .hud-status { font-size: 18px !important; left: 20px !important; }
    .header-actions { right: 20px !important; gap: 10px !important;}
    .carousel-wrapper { min-height: 480px !important; height: 50vh !important; }
    .super-card { width: 400px !important; height: 460px !important; padding: 25px 20px !important; }
    .dashboard-grid, .hub-grid { gap: 15px !important; }
    .panel, .hub-card { padding: 20px !important; }
}

/* 2. TABLET */
@media (max-width: 1024px) {
    .dashboard-container { flex-direction: column !important; align-items: center !important; }
    .left-column, .right-column { width: 100% !important; max-width: 100% !important; }
    .spline-section { width: 100vw !important; height: 40vh !important; position: relative !important; transform: none !important; left: auto !important; top: auto !important; margin: 20px 0 !important; }
    .hub-grid, .dashboard-grid { grid-template-columns: repeat(2, 1fr) !important; }
    .hud-arc { display: none !important; } 
}

/* 3. SMARTPHONE (SISTEMAZIONE GLOBALE) */
@media (max-width: 768px) {
    /* NASCONDE I MODELLI 3D OVUNQUE */
    spline-viewer, .spline-section, #3d-container, .hero-mascot-placeholder, .mascot-container { display: none !important; }
    
    body { overflow-x: hidden !important; overflow-y: auto !important; height: auto !important;}
    .content-container, .dashboard-container { padding: 130px 15px 30px 15px !important; height: auto !important; display: block !important;}
    
   /* FIX SPECIFICO PER TERAPIE SU MOBILE (Impila video e testo) */
    .therapy-container, .terapie-layout, .split-view { flex-direction: column !important; display: flex !important; }
    .therapy-video-col, .therapy-list-col, .video-section, .list-section { width: 100% !important; max-width: 100% !important; height: auto !important; border-right: none !important; border-bottom: 2px solid var(--glass-border) !important; min-height: 250px !important;}
    .therapy-item { flex-direction: column !important; align-items: flex-start !important; height: auto !important; padding: 20px 15px !important;}
    /* HEADER COMPATTO IN ALTO */
    header { flex-direction: column !important; justify-content: center !important; height: auto !important; padding: 15px !important; gap: 10px !important; position: fixed !important; background: rgba(5,5,5,0.95) !important;}
    .logo, .hud-status, .header-actions { position: relative !important; left: auto !important; right: auto !important; top: auto !important; transform: none !important; text-align: center !important; width: 100% !important; justify-content: center !important; flex-wrap: wrap !important;}
    .hud-clock { display: none !important; } 

    /* DIMENSIONI TESTI FORZATE PER EVITARE SFORAMENTI */
    h1, h2, h3, .page-title, .hub-title, .panel-title, .ex-title { font-size: 26px !important; text-align: center !important; line-height: 1.2 !important; word-wrap: break-word !important;}
    .page-subtitle { font-size: 16px !important; text-align: center !important; }

    /* GRIGLIE IN SINGOLA COLONNA */
    .hub-grid, .dashboard-grid, .symptom-grid { display: flex !important; flex-direction: column !important; gap: 15px !important; }
    .panel, .hub-card { width: 100% !important; padding: 20px 15px !important; }
    
    /* ALLENAMENTO E TERAPIE */
    .carousel-wrapper { height: auto !important; padding: 20px 0 !important; overflow: visible !important; display: block !important; }
    .super-card { width: 100% !important; height: auto !important; position: relative !important; transform: none !important; opacity: 1 !important; display: none !important; margin-bottom: 20px !important;}
    .super-card.active { display: flex !important; }
    .exercise-block { flex-direction: column !important; }
    .ex-video-col { width: 100% !important; border-right: none !important; border-bottom: 2px solid var(--glass-border) !important; min-height: 250px !important; }
    .ex-info-col { width: 100% !important; padding: 20px 15px !important; }
    .metric-badge { width: 100% !important; justify-content: center !important; font-size: 16px !important; }
    .confirm-btn { width: 100% !important; justify-content: center !important; font-size: 14px !important; }
    
    /* MODALI A TUTTO SCHERMO */
    .calib-box, .ticket-box, .emergency-fullscreen { width: 95% !important; padding: 25px 15px !important; }
    .calib-options { flex-direction: column !important; gap: 15px !important; }
    .calib-btn { width: 100% !important; font-size: 18px !important; padding: 15px !important; }
   /* ========================================= */
    /* FIX DEFINITIVO PAGINA TERAPIE SU MOBILE   */
    /* ========================================= */
    .split-view, .therapy-container, .terapie-layout { 
        display: flex !important; 
        flex-direction: column !important; 
        height: auto !important; 
    }
    
    .video-col, .therapy-video-col, .left-col { 
        width: 100% !important; 
        max-width: 100% !important; 
        min-height: 250px !important; 
        height: 30vh !important; 
        border-right: none !important; 
        border-bottom: 2px solid var(--glass-border) !important; 
    }
    
    .list-col, .therapy-list-col, .right-col { 
        width: 100% !important; 
        max-width: 100% !important; 
        padding: 20px 15px !important; 
        overflow-y: visible !important; 
    }
    
    /* Sistema le singole voci della lista terapie per evitare scritte schiacciate */
    .therapy-item, .list-item { 
        flex-direction: column !important; 
        align-items: flex-start !important; 
        height: auto !important; 
        padding: 20px 15px !important; 
        gap: 15px !important;
    }
}






